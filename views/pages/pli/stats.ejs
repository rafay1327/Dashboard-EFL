<% include ../../partials/header %>

  <!-- Content Wrapper. Contains page content -->
 <section class="content-header">
 <h1> PLI Statistics
  
  <a href="/pli" class="pull-right   btn btn-primary">View PLI Conducted</a>
</h1>
    </section>

    <!-- Main content -->
    <section class="content container-fluid">
    <div style ="width: 900px; height: 500px;">
    <canvas id ="lineChart" height="500" width="900"></canvas>
     </div> 

    </section>
<script scr="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.bundle.js"></script>
<script scr="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.min.js"></script>
  <%
    var clear=0,not_clear=0;

 pli_all.forEach(function(obj){
    if(obj.status==="Clear"){
        clear++;
    }
    else{
      not_clear++;
    }

  });
   %>
  <script type="text/javascript">

 
  const CHART = document.getElementById("lineChart");
  let lineChart = new Chart(CHART, {
    type : 'bar',
    data: {
        labels: ["Clear", "Not Clear"],
        
        datasets: [{
            label: 'Comparison between Transfers (Cleared/Not Cleared) ',
            data: [<%= clear %>, <%= not_clear %>],
            backgroundColor: [
                'rgba(255, 159, 64, 1)',
                'rgb(244, 69, 66  )',
                'rgba(255, 255, 86, 0.2)'
                
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)'
            ],
            borderWidth: 1
        }]
    },
    options : {
      scales: {
        yAxes:  [{
          ticks: {
            beginAtZero: true
          }
        }]
      }
    }
  });
  console.log(CHART);

</script>


<% include ../../partials/footer %>