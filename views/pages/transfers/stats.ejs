<% include ../../partials/header %>
  <style type="text/css">
    #dougnutChart{
       -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
    -webkit-align-content: center;
    align-content: center;
    }
  </style>
  <!-- Content Wrapper. Contains page content -->
 <section class="content-header">
   <h1> Transfers Statistics
  
  <a href="/transfers" class="pull-right   btn btn-primary">View Transfers</a>
</h1>
<div class="container">
    </section>

    <!-- Main content -->
    <section class="content container-fluid">
    <div style ="width: 500px; height: 500px;">
    <canvas id ="doughnutChart" height="500" width="500"></canvas>

    </section>
 </div>
<script scr="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.bundle.js"></script>
<script scr="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.1/Chart.min.js"></script>
  <%
    var appointment=0,transfer=0;

 transfers_all.forEach(function(obj){
    if(obj.status==="Appointment"){
        appointment++;
    }
    else{
      transfer++;
    }

  });
   %>
  <script type="text/javascript">

 
  const CHART = document.getElementById("doughnutChart");
  let doughnutChart = new Chart(CHART, {
    type : 'doughnut',
    data: {
        labels: ["Appointment", "Transfer"],
        
        datasets: [{
            label: 'Comparison of Employee Status : Appointment/Transfer ',
            data: [<%= appointment %>, <%= transfer %>],
            backgroundColor: [
                'rgba(255, 159, 64, 1)',
                'rgb(244, 69, 66  )',
                'rgba(255, 255, 86, 0.2)'
                
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)'
            ],
            borderWidth: 1
        }]
    },
    options : {
      
    }
  });


</script>

<% include ../../partials/footer %>